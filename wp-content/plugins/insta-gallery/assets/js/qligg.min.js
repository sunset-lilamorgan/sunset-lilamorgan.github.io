
(function(c){var b=0,d={};function a(f,i){var e=c(".insta-gallery-list",f),h=c(".insta-gallery-spinner",f),g=f.data("feed");c.ajax({url:qligg.ajax_url,type:"post",timeout:30000,data:{action:"qligg_load_item_images",next_max_id:i,feed:g},beforeSend:function(){h.show()},success:function(j){if(j.success!==true){e.append(c(j.data));h.hide();return}var k=c(j.data);e.append(k).trigger("qligg.loaded",[k])},complete:function(){},error:function(j,k){h.hide();console.log(k)}})}c(".insta-gallery-feed").on("qligg.loaded",function(i,j){var l=c(i.delegateTarget),n=c(".insta-gallery-list",l),g=c(".insta-gallery-spinner",l),f=c(".insta-gallery-button.load",l),m=l.data("feed"),k=c(j).length,h=0;if(k){n.find(".insta-gallery-image").load(function(o){h++;if(h>=k){n.trigger("qligg.imagesLoaded",[j])}})}if(k<m.limit){g.hide();setTimeout(function(){f.fadeOut()},300)}});c(".insta-gallery-feed").on("qligg.imagesLoaded",function(h){var f=c(h.delegateTarget),g=c(".insta-gallery-spinner",f);g.hide()});c(".insta-gallery-feed[data-feed_layout=gallery]").on("qligg.imagesLoaded",function(h,f){var g=c(h.delegateTarget);g.addClass("loaded");c(f).each(function(e,j){setTimeout(function(){c(j).addClass("ig-image-loaded")},150+(e*30))})});c(".insta-gallery-feed[data-feed_layout=carousel]").on("qligg.imagesLoaded",function(h,f){var g=c(h.delegateTarget);g.addClass("loaded");c(f).each(function(e,j){c(j).addClass("ig-image-loaded")})});c(".insta-gallery-feed[data-feed_layout=carousel]").on("qligg.imagesLoaded",function(j,f){var g=c(j.delegateTarget),i=c(".swiper-container",g),h=g.data("feed");b++;d[b]=new Swiper(i,{loop:true,autoHeight:true,observer:true,observeParents:true,spaceBetween:parseInt(h.spacing),slidesPerView:parseInt(h.carousel.slides),autoplay:h.carousel.autoplay?{delay:parseInt(h.carousel.interval),}:false,pagination:{el:".swiper-pagination",dynamicBullets:true,clickable:true,type:"bullets",},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",},breakpoints:{420:{slidesPerView:1,spaceBetween:2,},767:{slidesPerView:Math.min(2,h.carousel.slides)},1023:{slidesPerView:Math.min(3,h.carousel.slides)}}})});c(".insta-gallery-feed[data-feed_layout=masonry]").on("qligg.imagesLoaded",function(i,f){var h=c(i.delegateTarget),g=c(".insta-gallery-list",h);if(!g.data("masonry")){g.masonry({itemSelector:".insta-gallery-item",isResizable:true,isAnimated:false,transitionDuration:0,percentPosition:true,columnWidth:".insta-gallery-item:last-child"})}else{g.masonry("appended",f,false)}});c(".insta-gallery-feed[data-feed_layout=masonry]").on("layoutComplete",function(h,g){var f=c(h.delegateTarget);f.addClass("loaded");c(g).each(function(e,j){setTimeout(function(){c(j.element).addClass("ig-image-loaded")},500+(e*50))})});c(".insta-gallery-feed").on("qligg.loaded",function(i){var g=c(i.delegateTarget),f=c(".insta-gallery-list",g),h=g.data("feed");c(".insta-gallery-item .insta-gallery-icon.qligg-icon-instagram",f).on("click",function(j){j.stopPropagation()});if(!h.popup.display){return}c(".insta-gallery-item",f).magnificPopup({type:"inline",callbacks:{beforeOpen:function(){this.st.mainClass=this.st.mainClass+" qligg-mfp-wrap"},elementParse:function(m){var n="",l="",e="",k="",j="";n='<img src="'+m.el.data("item").images.standard+'"/>';e='<div class="mfp-icons"><div class="mfp-counter">'+(m.index+1)+" / "+c(".insta-gallery-item",f).length+'</div><a class="mfp-link" href="'+m.el.data("item").link+'" target="_blank" rel="noopener"><i class="qligg-icon-instagram"></i>Instagram</a></div>';if(h.popup.profile){l='<div class="mfp-user"><img src="'+h.profile.picture+'"><a href="'+h.profile.link+'" title="'+h.profile.name+'" target="_blank" rel="noopener">'+h.profile.user+"</a></div>"}if(h.popup.caption){k='<div class="mfp-caption">'+m.el.data("item").caption+"</div>"}if(h.popup.likes){j='<div class="mfp-info"><div class="mfp-likes"><i class="qligg-icon-heart"></i>'+m.el.data("item").likes+'</div><div class="mfp-comments"><i class="qligg-icon-comment"></i>'+m.el.data("item").comments+'</div><div class="mfp-date">'+m.el.data("item").date+"</div></div>"}m.src='<div class="mfp-figure '+h.popup.align+'">'+n+'<div class="mfp-close"></div><div class="mfp-bottom-bar"><div class="mfp-title">'+l+e+k+j+"</div></div></div>"}},gallery:{enabled:true}})});c(".insta-gallery-feed").on("click",".insta-gallery-button.load",function(h){h.preventDefault();var f=c(h.delegateTarget);if(!f.hasClass("loaded")){return false}var g=c(".insta-gallery-list .insta-gallery-item:last-child",f).data("item").i;a(f,g)});c(".insta-gallery-feed").each(function(f,g){var e=c(g);if(e.hasClass("loaded")){return false}a(e,0)});if(navigator.appVersion.indexOf("MSIE 8.")!=-1){document.body.className+=" instagal-ie-8"}if(navigator.appVersion.indexOf("MSIE 9.")!=-1){document.body.className+=" instagal-ie-9"}})(jQuery);